# ============================================================================
# Readline Configuration
# ============================================================================
# Requires: readline 7.0+ (bash 5.0+) for modern features
#
# Complete documentation: docs/inputrc.md
# Quick reload: Press Ctrl-x Ctrl-r in bash
# Test bindings: bind -p (show all), bind -v (show variables)

# ============================================================================
# Completion Behavior
# ============================================================================

set completion-ignore-case on
set completion-map-case on
set show-all-if-ambiguous on
set show-all-if-unmodified on
set colored-stats on
set colored-completion-prefix on
set menu-complete-display-prefix on
set mark-symlinked-directories on
set visible-stats on
set mark-directories on

# ============================================================================
# Bell & Display
# ============================================================================

set bell-style none
set page-completions on
set completion-query-items 100
set echo-control-characters off

# ============================================================================
# Modern Readline Features (7.0+)
# ============================================================================

set enable-bracketed-paste on
set revert-all-at-newline on
set show-mode-in-prompt on
set vi-ins-mode-string "\1\e[6 q\2"
set vi-cmd-mode-string "\1\e[2 q\2"

# ============================================================================
# Misc Settings
# ============================================================================

set expand-tilde on
set skip-completed-text on

# ============================================================================
# Editing Mode - Vi
# ============================================================================
# For emacs mode: comment out lines 59-106, uncomment line 111

set editing-mode vi

# Vi Insert Mode Keybindings
set keymap vi-insert

# History search
"\e[A": history-search-backward
"\e[B": history-search-forward
Control-p: previous-history
Control-n: next-history
Control-r: reverse-search-history
Control-s: forward-search-history

# Fast escape
"jj": vi-movement-mode

# Emacs-style navigation
Control-a: beginning-of-line
Control-e: end-of-line
Control-l: clear-screen

# Emacs-style editing
Control-w: backward-kill-word
Control-k: kill-line
Control-u: unix-line-discard
Control-y: yank
Control-d: delete-char

# Completion
"\t": complete
"\e[Z": menu-complete-backward

# Home/End keys
"\e[H": beginning-of-line
"\e[F": end-of-line

# Ctrl-Left/Right: word movement
"\e[1;5C": forward-word
"\e[1;5D": backward-word

# Vi Command Mode Keybindings
set keymap vi-command

# History search
"\e[A": history-search-backward
"\e[B": history-search-forward
Control-r: reverse-search-history

# Edit command in $EDITOR
"v": edit-and-execute-command

# Emacs compatibility
Control-l: clear-screen
Control-a: beginning-of-line
Control-e: end-of-line

# Home/End keys
"\e[H": beginning-of-line
"\e[F": end-of-line

# ============================================================================
# Alternative: Emacs Mode
# ============================================================================
# Uncomment for emacs mode, comment out Vi Mode section above

# set editing-mode emacs
# "\e[A": history-search-backward
# "\e[B": history-search-forward
